<!DOCTYPE html>
<html>
<head>
 <meta charset="UTF-8">
 <title>drag&amp;drop</title>
</head>
<body style="min-height: 100vh">
<img src="http://fe.it-academy.by/Sites/0000007/sax.jpg">
<img src="http://fe.it-academy.by/Sites/0000007/Yin_and_Yang.png" width="100">
<img src="http://fe.it-academy.by/Sites/0000007/Man-and-woman.png" width="150">
<img src="http://fe.it-academy.by/Sites/0000007/No_smoking.png" style="padding-left: 50px">

<script>
 window.addEventListener('load', bodyStart, false); 
 var imgs = document.getElementsByTagName('img');

 var x=10, y=10; 
 for(var i = 0; i<imgs.length; i++)
{
  imgs[i].id = 'img' + i;
  imgs[i].addEventListener('mouseup', imgDragEnd);
  imgs[i].addEventListener('mousedown', imgDragStart);
  imgs[i].style.position = 'absolute';
  imgs[i].style.left = x +"px";
  imgs[i].style.top = y +"px";
  imgs[i].style.position = 'absolute'; 
   x = x + 150;  //у первого элемента нет width
   y = y + imgs[i].offsetHeight;
}

  function imgDragStart(event){
    eo = window.event;
    eo.preventDefault();
    const draggedImg = eo.target; 
    const movImg = document.getElementById(draggedImg.id);
    movImg.addEventListener('mousemove', imgMove);
  }

  function imgDragEnd(event){
    //eo = eo||window.event;
    eo = window.event;
    eo.preventDefault();   
    const draggedImg = eo.target; 
    const movImg = document.getElementById(draggedImg.id);
    movImg.style.zIndex = '5';
    console.log(movImg); 
    document.body.appendChild(movImg);
    movImg.removeEventListener('mouseup', imgDragEnd);
    movImg.removeEventListener('mousemove', imgMove);
    movImg.onmousedown = null;
  }
function imgMove(event){
  //eo = eo||window.event;
   eo = window.event;
  eo.preventDefault(); 
  const draggedImg = eo.target;
  const movImg = document.getElementById(draggedImg.id);
 
      movImg.style.cursor = 'grabbing';
      var raznicaX1 = eo.screenX;
      var raznicaY1 = eo.screenY;
      var raznicaX = eo.screenX - movImg.offsetWidth;
      var raznicaY = eo.screenY - movImg.offsetHeight;
      movImg.style.position = 'absolute';
      movImg.style.left = raznicaX +"px";
      movImg.style.top = raznicaY +"px";
      movImg.style.zIndex = '100';
      movImg.style.cursor = 'grabbing';
}


function bodyStart(event){
    eo = window.event;
    eo.preventDefault();
}
</script>

  

</body></html>




